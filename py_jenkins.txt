node {
  stage('Source') {
    git 'https://github.com/rezille/devops-python.git'
  }
  stage('SonarQube analysis') {
    def scannerHome = tool 'SonarQube Scanner';
    withSonarQubeEnv('SonarQube Server') {
      sh "${scannerHome}/bin/sonar-scanner -Dsonar.projectKey=devops-python -Dsonar.sources=. -Dsonar.host.url=http://35.198.252.54:9000 -Dsonar.login=fb78c2252c41c3ce6863088b0cb1cd19ab737ad2"
    }
  }
}